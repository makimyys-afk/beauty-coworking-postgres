# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –±–∞–ª–∞–Ω—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –ü—Ä–æ–±–ª–µ–º–∞

–ò–∑-–∑–∞ –±–∞–≥–∞ –≤ –∫–æ–¥–µ –±–∞–ª–∞–Ω—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π testttt –∏ dsa dsa (–∏ –≤–æ–∑–º–æ–∂–Ω–æ –¥—Ä—É–≥–∏—Ö) –±—ã–ª–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π.

**–ë–∞–≥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω** –≤ –∫–æ–º–º–∏—Ç–µ `1ac79d2`, –Ω–æ —Å—Ç–∞—Ä—ã–µ –±–∞–ª–∞–Ω—Å—ã –Ω—É–∂–Ω–æ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é.

## –†–µ—à–µ–Ω–∏–µ

–°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç `fix-all-balances.mjs`, –∫–æ—Ç–æ—Ä—ã–π:
1. –ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
2. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ
3. –°–æ–∑–¥–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É—é—â–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –±–∞–ª–∞–Ω—Å–æ–º

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Railway CLI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Railway CLI (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):
   ```bash
   npm i -g @railway/cli
   ```

2. –í–æ–π–¥–∏—Ç–µ –≤ Railway:
   ```bash
   railway login
   ```

3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞:
   ```bash
   cd beauty-coworking-postgres
   ```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —á–µ—Ä–µ–∑ Railway:
   ```bash
   railway run npx tsx fix-all-balances.mjs
   ```

   –ö–æ–º–∞–Ω–¥–∞ `railway run` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ production –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω–æ —Å DATABASE_URL

1. –ü–æ–ª—É—á–∏—Ç–µ `DATABASE_URL` –∏–∑ Railway:
   - –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Railway dashboard
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "Variables"
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `DATABASE_URL`

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
   ```bash
   echo "DATABASE_URL=your_database_url_here" > .env
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:
   ```bash
   npx tsx fix-all-balances.mjs
   ```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ Railway Shell

1. –û—Ç–∫—Ä–æ–π—Ç–µ Railway dashboard
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç beauty-coworking-postgres
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–∏—Å (beauty-coworking-postgres)
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É "Settings" ‚Üí "Service" ‚Üí "Shell"
5. –í –æ—Ç–∫—Ä—ã–≤—à–µ–º—Å—è —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```bash
   npx tsx fix-all-balances.mjs
   ```

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
1. –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
2. –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
3. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å: `—Å—Ç–∞—Ä—Ç–æ–≤—ã–π_–¥–µ–ø–æ–∑–∏—Ç - —Å—É–º–º–∞_–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π`
4. –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å —Ç–µ–∫—É—â–∏–º –±–∞–ª–∞–Ω—Å–æ–º
5. –ï—Å–ª–∏ –µ—Å—Ç—å —Ä–∞–∑–Ω–∏—Ü–∞ - —Å–æ–∑–¥–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É—é—â—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é

## –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
üîç –ü–æ–∏—Å–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –±–∞–ª–∞–Ω—Å–∞–º–∏...

–ù–∞–π–¥–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: 2

üë§ testttt (ID: 1)
   –°—Ç–∞—Ä—Ç–æ–≤—ã–π –¥–µ–ø–æ–∑–∏—Ç: 5000‚ÇΩ
   –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π: 1 –Ω–∞ —Å—É–º–º—É 400‚ÇΩ
   –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å: 46‚ÇΩ
   –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å: 4600‚ÇΩ
   ‚ö†Ô∏è  –¢–†–ï–ë–£–ï–¢–°–Ø –ö–û–†–†–ï–ö–¢–ò–†–û–í–ö–ê: +4554‚ÇΩ

üë§ dsa dsa (ID: 2)
   –°—Ç–∞—Ä—Ç–æ–≤—ã–π –¥–µ–ø–æ–∑–∏—Ç: 5000‚ÇΩ
   –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π: 1 –Ω–∞ —Å—É–º–º—É 800‚ÇΩ
   –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å: 42‚ÇΩ
   –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å: 4200‚ÇΩ
   ‚ö†Ô∏è  –¢–†–ï–ë–£–ï–¢–°–Ø –ö–û–†–†–ï–ö–¢–ò–†–û–í–ö–ê: +4158‚ÇΩ

‚ö†Ô∏è  –ù–∞–π–¥–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –±–∞–ª–∞–Ω—Å–æ–º: 2

üíâ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É—é—â–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π...

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –¥–ª—è testttt...
‚úÖ testttt: 46‚ÇΩ ‚Üí 4600‚ÇΩ
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –¥–ª—è dsa dsa...
‚úÖ dsa dsa: 42‚ÇΩ ‚Üí 4200‚ÇΩ

üéâ –í—Å–µ –±–∞–ª–∞–Ω—Å—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –°–∫—Ä–∏–ø—Ç **—Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª—è–µ—Ç** –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É—é—â–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –Ω–µ —É–¥–∞–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
- –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ - —Å–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ—Å—á–∏—Ç–∞–µ—Ç –±–∞–ª–∞–Ω—Å –∑–∞–Ω–æ–≤–æ
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `transactions`

## –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–æ–≤—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —Å–∫—Ä–∏–ø—Ç `fix-all-balances.mjs` (–∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
